import{_ as N}from"./preload-helper-cf010ec4.js";const E="[0-9A-Za-z-]+",y=`(?:\\+(${E}(?:\\.${E})*))`,_="0|[1-9]\\d*",V="[0-9]+",k="\\d*[a-zA-Z-][a-zA-Z0-9-]*",S=`(?:${V}|${k})`,J=`(?:-?(${S}(?:\\.${S})*))`,X=`(?:${_}|${k})`,F=`(?:-(${X}(?:\\.${X})*))`,T=`${_}|x|X|\\*`,d=`[v=\\s]*(${T})(?:\\.(${T})(?:\\.(${T})(?:${F})?${y}?)?)?`,Q=`^\\s*(${d})\\s+-\\s+(${d})\\s*$`,W=`(${V})\\.(${V})\\.(${V})`,Y=`[v=\\s]*${W}${J}?${y}?`,C="((?:<|>)?=?)",A=`(\\s*)${C}\\s*(${Y}|${d})`,K="(?:~>?)",j=`(\\s*)${K}\\s+`,B="(?:\\^)",m=`(\\s*)${B}\\s+`,ee="(<|>)?=?\\s*\\*",re=`^${B}${d}$`,te=`(${_})\\.(${_})\\.(${_})`,ne=`v?${te}${F}?${y}?`,se=`^${K}${d}$`,ie=`^${C}\\s*${d}$`,$e=`^${C}\\s*(${ne})$|^$`,ue="^\\s*>=\\s*0.0.0\\s*$";function l(e){return new RegExp(e)}function c(e){return!e||e.toLowerCase()==="x"||e==="*"}function D(...e){return n=>e.reduce((s,r)=>r(s),n)}function z(e){return e.match(l($e))}function U(e,n,s,r){const t=`${e}.${n}.${s}`;return r?`${t}-${r}`:t}function ce(e){return e.replace(l(Q),(n,s,r,t,i,$,u,a,f,o,R,p)=>(c(r)?s="":c(t)?s=`>=${r}.0.0`:c(i)?s=`>=${r}.${t}.0`:s=`>=${s}`,c(f)?a="":c(o)?a=`<${+f+1}.0.0-0`:c(R)?a=`<${f}.${+o+1}.0-0`:p?a=`<=${f}.${o}.${R}-${p}`:a=`<=${a}`,`${s} ${a}`.trim()))}function ae(e){return e.replace(l(A),"$1$2$3")}function fe(e){return e.replace(l(j),"$1~")}function oe(e){return e.replace(l(m),"$1^")}function le(e){return e.trim().split(/\s+/).map(n=>n.replace(l(re),(s,r,t,i,$)=>c(r)?"":c(t)?`>=${r}.0.0 <${+r+1}.0.0-0`:c(i)?r==="0"?`>=${r}.${t}.0 <${r}.${+t+1}.0-0`:`>=${r}.${t}.0 <${+r+1}.0.0-0`:$?r==="0"?t==="0"?`>=${r}.${t}.${i}-${$} <${r}.${t}.${+i+1}-0`:`>=${r}.${t}.${i}-${$} <${r}.${+t+1}.0-0`:`>=${r}.${t}.${i}-${$} <${+r+1}.0.0-0`:r==="0"?t==="0"?`>=${r}.${t}.${i} <${r}.${t}.${+i+1}-0`:`>=${r}.${t}.${i} <${r}.${+t+1}.0-0`:`>=${r}.${t}.${i} <${+r+1}.0.0-0`)).join(" ")}function pe(e){return e.trim().split(/\s+/).map(n=>n.replace(l(se),(s,r,t,i,$)=>c(r)?"":c(t)?`>=${r}.0.0 <${+r+1}.0.0-0`:c(i)?`>=${r}.${t}.0 <${r}.${+t+1}.0-0`:$?`>=${r}.${t}.${i}-${$} <${r}.${+t+1}.0-0`:`>=${r}.${t}.${i} <${r}.${+t+1}.0-0`)).join(" ")}function de(e){return e.split(/\s+/).map(n=>n.trim().replace(l(ie),(s,r,t,i,$,u)=>{const a=c(t),f=a||c(i),o=f||c($);return r==="="&&o&&(r=""),u="",a?r===">"||r==="<"?"<0.0.0-0":"*":r&&o?(f&&(i=0),$=0,r===">"?(r=">=",f?(t=+t+1,i=0,$=0):(i=+i+1,$=0)):r==="<="&&(r="<",f?t=+t+1:i=+i+1),r==="<"&&(u="-0"),`${r+t}.${i}.${$}${u}`):f?`>=${t}.0.0${u} <${+t+1}.0.0-0`:o?`>=${t}.${i}.0${u} <${t}.${+i+1}.0-0`:s})).join(" ")}function _e(e){return e.trim().replace(l(ee),"")}function Re(e){return e.trim().replace(l(ue),"")}function h(e,n){return e=+e||e,n=+n||n,e>n?1:e===n?0:-1}function ve(e,n){const{preRelease:s}=e,{preRelease:r}=n;if(s===void 0&&r)return 1;if(s&&r===void 0)return-1;if(s===void 0&&r===void 0)return 0;for(let t=0,i=s.length;t<=i;t++){const $=s[t],u=r[t];if($!==u)return $===void 0&&u===void 0?0:$?u?h($,u):-1:1}return 0}function v(e,n){return h(e.major,n.major)||h(e.minor,n.minor)||h(e.patch,n.patch)||ve(e,n)}function b(e,n){return e.version===n.version}function Ve(e,n){switch(e.operator){case"":case"=":return b(e,n);case">":return v(e,n)<0;case">=":return b(e,n)||v(e,n)<0;case"<":return v(e,n)>0;case"<=":return b(e,n)||v(e,n)>0;case void 0:return!0;default:return!1}}function he(e){return D(le,pe,de,_e)(e)}function we(e){return D(ce,ae,fe,oe)(e.trim()).split(/\s+/).join(" ")}function Pe(e,n){if(!e)return!1;const t=we(n).split(" ").map(p=>he(p)).join(" ").split(/\s+/).map(p=>Re(p)),i=z(e);if(!i)return!1;const[,$,,u,a,f,o]=i,R={operator:$,version:U(u,a,f,o),major:u,minor:a,patch:f,preRelease:o?.split(".")};for(const p of t){const L=z(p);if(!L)return!1;const[,H,,I,O,q,P]=L,M={operator:H,version:U(I,O,q,P),major:I,minor:O,patch:q,preRelease:P?.split(".")};if(!Ve(M,R))return!1}return!0}const Z={},x={react:{get:()=>()=>g(new URL("__federation_shared_react-85b99322.js",import.meta.url).href),import:!0},"react-dom":{get:()=>()=>g(new URL("__federation_shared_react-dom-fcd46ffe.js",import.meta.url).href),import:!0},"react-router-dom":{get:()=>()=>g(new URL("__federation_shared_react-router-dom-6a3e2565.js",import.meta.url).href),import:!0}},w=Object.create(null);async function xe(e,n="default"){return w[e]?new Promise(s=>s(w[e])):await Te(e,n)||be(e)}async function g(e){return Z[e]??=N(()=>import(e),[]),Z[e]}async function Te(e,n){let s=null;if(globalThis?.__federation_shared__?.[n]?.[e]){const r=globalThis.__federation_shared__[n][e],t=x[e]?.requiredVersion;if(!!t){const $=Object.keys(r).find(u=>Pe(u,t));$?s=await(await r[$].get())():console.log(`provider support ${e}(${$}) is not satisfied requiredVersion(\${moduleMap[name].requiredVersion})`)}else{const $=Object.keys(r)[0];s=await(await r[$].get())()}}if(s)return G(s,e)}async function be(e){if(x[e]?.import){let n=await(await x[e].get())();return G(n,e)}else console.error("consumer config import=false,so cant use callback shared module")}function G(e,n){return typeof e.default=="function"?(Object.keys(e).forEach(s=>{s!=="default"&&(e.default[s]=e[s])}),w[n]=e.default,e.default):(e.default&&(e=Object.assign({},e.default,e)),w[n]=e,e)}export{xe as importShared,be as importSharedLocal,Te as importSharedRuntime};
